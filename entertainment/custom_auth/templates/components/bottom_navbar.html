<!-- filepath: entertainment/custom_auth/templates/components/bottom_navbar.html -->
{% load static %}

<nav class="win98-navbar">
    <!-- Watchlist Button -->
    <a href="{% url 'watchlist_page' %}" class="win98-btn {% if request.resolver_match.url_name == 'watchlist_page' %}active{% endif %}">
        <img src="{% static 'images/win98/msagent-0.png' %}" alt="ðŸ“‹" class="win98-icon">
        <span class="label">Watchlist</span>
    </a>

    <!-- Discover Button -->
    <a href="{% url 'discover_page' %}" class="win98-btn {% if request.resolver_match.url_name == 'discover_page' %}active{% endif %}">
        <img src="{% static 'images/win98/search_web-0.png' %}" alt="ðŸ”" class="win98-icon">
        <span class="label">Discover</span>
    </a>

    <!-- Profile Button -->
    <a href="{% url 'profile_page' %}" class="win98-btn {% if request.resolver_match.url_name == 'profile_page' %}active{% endif %}">
        <img src="{% static 'images/win98/user_computer-0.png' %}" alt="ðŸ‘¤" class="win98-icon">
        <span class="label">Profile</span>
    </a>
</nav>

<style>
    :root {
        /* Default (Light) Theme - Classic Win98 */
        --win98-gray: #c0c0c0;
        --win98-light: #ffffff;
        --win98-dark: #808080;
        --win98-black: #000000;
        --win98-text: #000000;
        --win98-active-bg: #e0e0e0;
        --win98-active-pattern: #c0c0c0;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            /* Dark Theme - "Dark98" */
            --win98-gray: #303030;
            --win98-light: #606060;
            --win98-dark: #151515;
            --win98-black: #000000; /* Keep black for deep shadows */
            --win98-text: #e0e0e0;
            --win98-active-bg: #404040;
            --win98-active-pattern: #303030;
        }
    }

    .win98-navbar {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: var(--win98-gray);
        border-top: 2px solid var(--win98-light);
        box-shadow: 0 -1px 0 var(--win98-dark); /* Simple bevel */
        display: flex;
        justify-content: space-between;
        padding: 4px;
        padding-bottom: calc(4px + env(safe-area-inset-bottom, 0px));
        z-index: 9999;
        height: auto;
    }

    .win98-btn {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-decoration: none !important;
        color: var(--win98-text) !important;
        background-color: var(--win98-gray);
        margin: 0 2px;
        padding: 6px 4px;
        min-height: 48px;
        cursor: pointer;
        
        /* Win98 Button Style (Outset) */
        border-top: 1px solid var(--win98-light);
        border-left: 1px solid var(--win98-light);
        border-right: 1px solid var(--win98-black);
        border-bottom: 1px solid var(--win98-black);
        box-shadow: 1px 1px 0 var(--win98-black), inset 1px 1px 0 var(--win98-light), inset -1px -1px 0 var(--win98-dark);
        
        transition: none; /* Retro feel - no smooth transitions */
    }

    .win98-btn:active, .win98-btn.active {
        /* Win98 Pressed Style (Inset) */
        border-top: 1px solid var(--win98-black);
        border-left: 1px solid var(--win98-black);
        border-right: 1px solid var(--win98-light);
        border-bottom: 1px solid var(--win98-light);
        box-shadow: inset 1px 1px 0 var(--win98-dark);
        
        /* Dithered pattern for active state (optional, but very Win98) */
        background-image: linear-gradient(45deg, var(--win98-active-pattern) 25%, transparent 25%, transparent 75%, var(--win98-active-pattern) 75%, var(--win98-active-pattern)), 
                          linear-gradient(45deg, var(--win98-active-pattern) 25%, transparent 25%, transparent 75%, var(--win98-active-pattern) 75%, var(--win98-active-pattern));
        background-position: 0 0, 1px 1px;
        background-size: 2px 2px;
        background-color: var(--win98-active-bg); /* Slightly lighter base for the pattern */

        /* Shift content to simulate press */
        padding-top: 7px; 
        padding-bottom: 5px;
        padding-left: 5px;
        padding-right: 3px;
    }

    .win98-icon {
        width: 24px;
        height: 24px;
        margin-bottom: 4px;
        image-rendering: pixelated; /* Essential for retro look */
        pointer-events: none;
    }

    .win98-btn .label {
        font-size: 11px;
        font-family: 'MS Sans Serif', 'Segoe UI', sans-serif;
        font-weight: bold;
        line-height: 1.2;
    }

    /* Ensure body has enough padding so navbar doesn't cover content */
    body {
        padding-bottom: calc(70px + env(safe-area-inset-bottom, 0px)) !important;
    }

    /* Mobile optimizations */
    @media (max-width: 480px) {
        .win98-btn {
            min-height: 44px;
            padding: 4px;
        }
        .win98-btn:active, .win98-btn.active {
            padding-top: 5px;
            padding-bottom: 3px;
            padding-left: 5px;
            padding-right: 3px;
        }
        .win98-icon {
            width: 22px;
            height: 22px;
        }
        .win98-btn .label {
            font-size: 10px;
        }
    }
</style>

