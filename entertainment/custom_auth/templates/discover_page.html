{% extends "components/base.html" %}
{% load static %}

{% block content %}
    <!-- Include Search Component -->
    {% include "components/search_component.html" %}
    
    <!-- Include Modal Components -->
    {% include "components/movie_search_component.html" %}
    {% include "components/tv_show_search_component.html" %}
    
    <!-- Include Scrollable Content Styles -->
    {% include "components/scrollable_content_styles.html" %}    <!-- Default Content (when not searching) -->    <div class="default-content" id="defaultContent">        
        <div class="discover-section">
            <!-- Community Movie of the Week -->
            {% include "components/community_movie_week.html" %}
        </div>
        
        <div class="discover-section">
            <!-- Recommended For You -->
            {% include "components/recommended_movies.html" %}
        </div>        <div class="discover-section">
            <!-- Popular Movies -->
            {% include "components/popular_movies.html" %}
        </div>
        
        <div class="discover-section">
            <!-- Popular TV Shows -->
            {% include "components/popular_tvshows.html" %}
        </div>
    </div><style>
        /* Theme-adaptive CSS variables for discover page */
        :root {
            --bg-color: #c0c0c0;
            --text-color: #000;
            --text-muted: #666;
            --border-dark: #808080;
            --border-light: #dfdfdf;
            --window-bg: #c0c0c0;
            --button-bg: #c0c0c0;
            --button-text: #000;
            --button-hover: #e0e0e0;
            --progress-bg: #fff;
            --progress-bar: #008080;
            --shadow-color: rgba(0,0,0,0.25);
            --poster-border: #a0a0a0;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #383838;
                --text-color: #ffffff;
                --text-muted: #b0b0b0;
                --border-dark: #2a2a2a;
                --border-light: #505050;
                --window-bg: #404040;
                --button-bg: #505050;
                --button-text: #ffffff;
                --button-hover: #606060;
                --progress-bg: #2a2a2a;
                --progress-bar: #00a0a0;
                --shadow-color: rgba(0,0,0,0.5);
                --poster-border: #606060;
            }
        }

        /* Default content styles */
        .default-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .discover-section {
            margin-bottom: 40px;
        }

        .discover-section h2 {
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 16px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-dark);
            color: var(--text-color);
        }

        /* Movie of the Week Component Styles */
        .window {
            border: 2px outset var(--bg-color);
            background-color: var(--bg-color);
            font-family: 'MS Sans Serif', sans-serif;
            box-shadow: 2px 2px 4px var(--shadow-color);
        }

        .title-bar {
            background: linear-gradient(90deg, #0f0f81 0%, #1084d0 100%);
            color: white;
            padding: 2px;
            font-size: 11px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        @media (prefers-color-scheme: dark) {
            .title-bar {
                background: linear-gradient(90deg, #1a1a3a 0%, #2060a0 100%);
            }
        }

        .title-bar-controls button {
            width: 16px;
            height: 14px;
            border: 1px outset var(--button-bg);
            background: var(--button-bg);
            margin-left: 2px;
            font-size: 8px;
            cursor: pointer;
        }

        .title-bar-controls button:active {
            border: 1px inset var(--button-bg);
        }

        .window-body {
            background-color: var(--window-bg);
            color: var(--text-color);
            padding: 12px;
        }

        .status-bar {
            border-top: 1px solid var(--border-dark);
            background-color: var(--bg-color);
            padding: 2px 4px;
            font-size: 11px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status-bar-field {
            border: 1px inset var(--bg-color);
            padding: 2px 4px;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .retro-btn {
            border: 1px outset var(--button-bg);
            background: var(--button-bg);
            color: var(--button-text);
            padding: 2px 8px;
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 11px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: background-color 0.1s ease;
        }

        .retro-btn:hover {
            background: var(--button-hover);
            color: var(--button-text);
            text-decoration: none;
        }

        .retro-btn:active {
            border: 1px inset var(--button-bg);
        }

        .progress {
            border: 1px inset var(--bg-color);
            background-color: var(--progress-bg);
            border-radius: 0;
            overflow: hidden;
        }

        .progress-bar {
            background-color: var(--progress-bar) !important;
            transition: none;
            border-radius: 0;
            font-weight: bold;
        }

        /* Enhanced poster styling for dark mode */
        .window-body img {
            border: 1px solid var(--poster-border);
            border-radius: 4px;
            box-shadow: 1px 1px 3px var(--shadow-color);
        }

        /* Better text contrast in dark mode */
        .window-body h5 {
            color: var(--text-color);
            font-weight: bold;
        }

        .window-body .text-muted {
            color: var(--text-muted) !important;
        }

        /* Link styling for dark mode */
        .window-body a {
            color: var(--text-color);
        }

        .window-body a:hover {
            color: var(--text-color);
            opacity: 0.8;
        }

        /* Progress bar text visibility */
        .progress-bar {
            color: #ffffff !important;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.5);
        }        /* Enhanced button styling for better dark mode appearance */
        @media (prefers-color-scheme: dark) {
            .retro-btn {
                border-color: var(--border-light);
                box-shadow: 1px 1px 1px rgba(0,0,0,0.3);
            }
            
            .retro-btn:hover {
                box-shadow: 1px 1px 2px rgba(0,0,0,0.4);
            }
        }
    </style>
{% endblock %}